---
layout: post
title: "我的 iOS 开发工具箱"
published: false
categories:
- Misc
---

本文记录了我在 iOS 开发中使用过的一些工具，利用这些工具，可以让开发变得更有效率。

### Charles

[Charles][1] 是一个 HTTP 监视器，它是以 HTTP 代理的方式实现的。作为客户端和服务器通讯的中间人，它可以将 HTTP 传输的数据都展示出来，这给数据调试带来了极大的便利。通常，可以用它来分析第三方库、框架以及其他互联网应用程序的行为。

Charles 同时支持 HTTP 和 HTTPS 两种协议。对于 HTTP 协议，无需额外的设置就能看到明文数据，因为 HTTP 协议本身是不对数据加密的。但对于 HTTPS 协议，Charles 默认只是转发 HTTPS 请求，所以你只能看到乱码的加密数据。通过设置，Charles 也支持 HTTPS 协议，其原理就是[中间人攻击][2]。

有些客户端会通过证书验证，例如 Certificate Pinning，来防止中间人攻击。如果是这样，上面的方法就会失效，因为客户端会因为无法匹配证书，导致连接中断。不过，这也是有解决办法的，需要将你的设备越狱，然后给系统底层的 SSL 函数打补丁，[SSL Kill Switch][5] 就是这样一个开源插件。

这也告诉我们一个事实，虽然 HTTPS 是一个很好的加密层，但关键数据不要用明文传输。

### CocoaPods

[CocoaPods][6] 是 Objective-C 项目的依赖管理工具。

[1]: http://www.charlesproxy.com/
[2]: http://en.wikipedia.org/wiki/Man-in-the-middle_attack
[3]: http://www.charlesproxy.com/documentation/faqs/ssl-connections-from-within-iphone-applications/
[4]: http://www.cocoanetics.com/2010/12/how-to-spy-on-the-web-traffic-of-any-app/
[5]: https://github.com/iSECPartners/ios-ssl-kill-switch
[6]: http://cocoapods.org/
